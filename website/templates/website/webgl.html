{% extends "website/base.html" %}
{% load staticfiles %}
{% block container %}
<div class="row">
	<div class="col-xs-12">
		<div class="canvas"></div>
		<button class="btn btn-primary">WHAT</button>
	</div>
</div>
{% endblock %}


{% block javascript %}
<script type="text/javascript">
(function() {
	"use strict";
	var viewportWidth = 700;
	var viewportHeight = 550;
	
	var scene, camera, renderer;
	var cube;
	function init() {
		
		var light = new THREE.DirectionalLight(0xffffff);
		light.position.set(0,1,1).normalize();
		scene = new THREE.Scene();
		scene.add(light);
		
		camera = new THREE.PerspectiveCamera(75, viewportWidth/viewportHeight, 0.1, 1000);
		camera.position.set(250,250,250);
		camera.lookAt(scene.position);
		
		renderer = new THREE.WebGLRenderer();
		renderer.setSize(viewportWidth, viewportHeight);
		$(".canvas").html(renderer.domElement);
	} 
	
	function setup() {
		var geometry = new THREE.BoxGeometry(250,250,250,1,1,1);
		
		var material = new THREE.MeshPhongMaterial({map:THREE.ImageUtils.loadTexture("{% static 'img/texture-atlas.jpg' %}")});
		var bricks = [new THREE.Vector2(0, .666), new THREE.Vector2(.5, .666), new THREE.Vector2(.5, 1), new THREE.Vector2(0, 1)];
		var clouds = [new THREE.Vector2(.5, .666), new THREE.Vector2(1, .666), new THREE.Vector2(1, 1), new THREE.Vector2(.5, 1)];
		var crate = [new THREE.Vector2(0, .333), new THREE.Vector2(.5, .333), new THREE.Vector2(.5, .666), new THREE.Vector2(0, .666)];
		var stone = [new THREE.Vector2(.5, .333), new THREE.Vector2(1, .333), new THREE.Vector2(1, .666), new THREE.Vector2(.5, .666)];
		var water = [new THREE.Vector2(0, 0), new THREE.Vector2(.5, 0), new THREE.Vector2(.5, .333), new THREE.Vector2(0, .333)];
		var wood = [new THREE.Vector2(.5, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, .333), new THREE.Vector2(.5, .333)];
		
		geometry.faceVertexUvs[0] = [];
		geometry.faceVertexUvs[0][0] = [ bricks[0], bricks[1], bricks[3] ];
		geometry.faceVertexUvs[0][1] = [ bricks[1], bricks[2], bricks[3] ];
		geometry.faceVertexUvs[0][2] = [ clouds[0], clouds[1], clouds[3] ];
		geometry.faceVertexUvs[0][3] = [ clouds[1], clouds[2], clouds[3] ];
		geometry.faceVertexUvs[0][4] = [ crate[0], crate[1], crate[3] ];
		geometry.faceVertexUvs[0][5] = [ crate[1], crate[2], crate[3] ];
		geometry.faceVertexUvs[0][6] = [ stone[0], stone[1], stone[3] ];
		geometry.faceVertexUvs[0][7] = [ stone[1], stone[2], stone[3] ];
		geometry.faceVertexUvs[0][8] = [ water[0], water[1], water[3] ];
		geometry.faceVertexUvs[0][9] = [ water[1], water[2], water[3] ];
		geometry.faceVertexUvs[0][10] = [ wood[0], wood[1], wood[3] ];
		geometry.faceVertexUvs[0][11] = [ wood[1], wood[2], wood[3] ];
		
		cube = new THREE.Mesh(geometry, material);
		scene.add(cube);
	}
	
	

	

	
	
	function render() {
		requestAnimationFrame(render);
		cube.rotation.x += 0.1;
		cube.rotation.y += 0.1;
		cube.rotation.z += 0.1;
		
		renderer.render(scene, camera);
	}
	
	init();
	setup();
	render();
		
})();
</script>
{% endblock %}

<script>

    var scene, camera, renderer;
    var geometry, material, mesh;

    init();
    animate();

    function init() {

        scene = new THREE.Scene();

        camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 10000 );
        camera.position.z = 1000;

        geometry = new THREE.BoxGeometry( 200, 200, 200 );
        material = new THREE.MeshBasicMaterial( { color: 0xff0000, wireframe: true } );

        mesh = new THREE.Mesh( geometry, material );
        scene.add( mesh );

        renderer = new THREE.WebGLRenderer();
        renderer.setSize( 700, 550 );
        $(".canvas").html(renderer.domElement);
        
        //document.body.appendChild( renderer.domElement );

    }

    function animate() {

        requestAnimationFrame( animate );

        mesh.rotation.x += 0.01;
        mesh.rotation.y += 0.02;

        renderer.render( scene, camera );

    }

</script>

